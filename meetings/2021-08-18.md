# 2021-08-18 Solid Authorization

https://meet.jit.si/solid-authorization


## Agenda

* Minutes 2021-08-11 - https://github.com/solid/authorization-panel/pull/246
* [PR 244: Effective ACR discovery](https://github.com/solid/authorization-panel/pull/244)
* [PR 249: Added first delegation use case](https://github.com/solid/authorization-panel/pull/249)
* [PR 241: Fixes and add story for privacy](https://github.com/solid/authorization-panel/pull/241)
* Access Modes currently used by: WAC, ACP (5min)
* Reliance on client interpreting IRIs (aka. `/` hierarchy): WAC, ACP (5min)


## Present

* Barath
* Elf
* Henry
* Matthieu
* Justin


## Minutes

### Effective ACR discovery

Henry: Issues related to optimising the number of request for effective ACR discovery:
- [Support Trig serialization of Access Control Resources](https://github.com/solid/authorization-panel/issues/247)
- [Define another relation for non-created ACR](https://github.com/solid/authorization-panel/issues/248)
My favourite option is described in issue 248 where every resource should have a potential ACR and a specific link to the effective one directly.
I needed to create these proposals in order for the [PR 244: Effective ACR discovery](https://github.com/solid/authorization-panel/pull/244) to be merged.

Matthieu: Given that we have 4 potential solutions to minimising the number of requests involved in discovering the effective ACR, is everyone ok to merge #244?

Henry: Yes.

Elf: +1

Justin: +1

Matthieu: Merged.

Henry: The last solution might be useful for ACP too if you don't want one ACR per resource.

Matthieu: I'm not sure that falls into the ACP model, but let's review once the draft ACP PR is ready for review (that will be done today).


### Delegation use case

Henry: Could you give us a review of that use case Elf?

Elf: How do you feel about using the [GNAP terminology](https://www.ietf.org/archive/id/draft-ietf-gnap-core-protocol-00.html#name-roles) of Resource owner, server...?

Justin: I like using that terminology because I think it's well thought out and aligns with where we're going in terms of different actors and roles and responsibilities.

henry: Btw, a bit out of context, but how long is the GNAP spec (I think it was 80 pages last time I looked)?

Justin: Maybe Pavlik you could extract the relevant terminology.

Henry: It's fine, I need to study that more thoroughly. Justin, you maintain this document (authorization UCs) so you might know what is relevant best.

Justin: The AC UCs probably don't have a huge delta, maybe Pavlik you could do a PR and see how it aligns. Maybe spend 15mn to do some side by side. My experience with GNAP is that it is going to provide more specificity about the actors.

Elf: I also added a part about delegation vs impersonation. Bob would be able to access but from the Authorization Server's perspective it would be Alice accessing (impersonation) with delegation, ACME systems would know that Bob is accessing. Let's take a week to process that.


### Fixes and add story for privacy

* [PR 241: Fixes and add story for privacy](https://github.com/solid/authorization-panel/pull/241)

Elf: I think the musings about clients and so on distract from the main goal of focusing on inheritance. It would be good to have end to end but maybe in a primer or something like that.

Henry: I'm happy to start moving stuff to another place but we have three evaluations and it's a lot of work to do a lot of them.
These evaluations are meant to show how the whole system is working.
Unless you have a client and a server working together, you don't have a protocol. You need a system where the client can discover what the control resource are.

Elf: That is UC3, would you add those concerns to every use case?

Henry: We can see if it starts being copy-pasted, I'm happy to take it out. But at the moment we have three use cases and it's the only one that is covering an interesting cross section of concerns.
I'm not sure we're going to do this exercise for all the UC, as it takes a lot of time to do this. If we end up having duplication, then we can seperate the issues. But I don't think we're getting to the point where those concerns will be addressed otherwise.
If you want to have a system where you make the least problem about privacy, we can make the rules public (for example publishing your keys on a Thor URI).
We need the client and server interaction to understand.

Elf: I think we're only that far along because we're diverging from the core of the use case.
I think if this specific aspect had a Use Case for it, we could focus on it.

Justin: +1 focusing on specific use case

Henry: It's not like finding the access control rules is a special use case.
This is why the whole thing is stalling.
You're asking for a protocol where there is no protocol.
How does the client following a link find out where the access control rules are. We can't rely on magic.

Barath: Can I ask a question here: The client needs to be able to query a server to get access to rules so that it can interpret the access it has to this server, is it correct?

Henry: if you get a 401, you have no access, end of story.

Barath: Let's say I come and request for your sensitive files and get a flat no with no details about the rules. This seems like wanted behaviour. Sensitive rules except when being an admin should not be visible.
It's a difference between the control plane and resource plane.

Henry: If you start with a client getting to a resource, getting a 401, no more information, that's the end of it.
What we're adding is a way for administrators to add rules on who can access (read and write).
We have a use case for access by payment or access if over 18.
There is a 401 with a link to the rules that allows you to know what to present.
There are use cases that seem pretty reasonable to have read to access control rules.
If you walk around town and there is a wall, you need a sign telling you not to go somewhere.

Barath: I don't know that this analogy translates to my personal data. The very fact to reveal that something exists is problematic.
I would say that people that are privacy conscious don't put their data in public.

Henry: The If you're too worried about security, you put your computer in a pit.
But what about all the use cases where you want a group of people to have access to a resource.
How are they gonna know who has access?
You could have a group that is readable and knowing that you are part of that group.
Or say only friends of my friends.

Elf: Let's get to the queue.

Matthieu: I would be happy to have specific use case for discovery and credentials selection.

Justin: I think we should try to focus the debate. It is important in the overall system that clients and agents have knowledge of what they have access to. There are different ways of addressing that question. What is responsible for giving you slices of that knowledge is a different question.
In WAC and ACP, what is the scope of those?
How do you get knowledge about what you have access to and how to gain access to it in order to not over-share your credentials.
My feeling is that it is not necessarily in terms of ACP or WAC that you would disclose required credentials.
Can you access X resource, I look at it like a firewall. You either get there or not. You can infer things sometimes but a firewall will never say to you "Justin you're not allowed to access the HTTP port on that endpoint". Me knowing that I now have access to a system may have come out of band or through some other protocol. We spend a lot of time in interop designing how to give clients this kind of information.
I think there is tension in whether this kind of information is in the scope of access control systems or in the scope of some other systems.

Barath: I agree.

Henry: I find that we're doing very good progress by looking at the client server interaction in UC3.
I'm sorry about what interop is doing, but there is a way in which ACP and WAC can give this information.
If the access control rule is not visible, we might have to use backchannel.
Solid is going to be successful when drag and drop in an access control app works.
We don't need to wait for other systems to succeed.
Go from resource to rules and they tell you what you can do.
Currently the ACP and WAC are about client server interactions.
The reason why I'm trying to get this concern addressed in UC3, is to have a full story/protocol.

Matthieu: I see Henry's solution as pretty good one. When public Access control resource (WAC or ACP) can be discovered by the client, then that's one way of discovering required credentials. In other cases Authorization Servers could communicate to interop system which credentials are needed to access the resource. That might need some standard interface for WAC/ACP systems to communicate with such interop systems.
...: We should also consider the case where the access rules are private, but maybe notification can be sent informing the relevant users of the resources they have access to and which credentials they need to access those resources that were shared with them. This seems like an out of band mechanism.
I think we all agree that this is an important mechanism.
Maybe we can merge the UC3 PR now (keeping in mind we might separate credentials discovery concerns later on if a specific Use Case is formulated).

Elf: Ok to merge.

Henry: That's ok.


### Closing

Matthieu: We're a bit overtime, should we address the two outstanding points next week?

Elf: Ok to address next week.


## Actions

* Everyone to review [PR 249: Added first delegation use case](https://github.com/solid/authorization-panel/pull/249)
* Matthieu to make ACP Draft PR ready for review
* Matthieu to move over unadressed agenda items
